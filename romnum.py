import re#0-3999
[print(bool(re.match('M{0,3}(C[MD]|D?C{0,3})(X[LC]|L?X{0,3})(I[XV]|V?I{0,3})$',input())))for _ in range(int(input()))]
